(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{21:function(e,t,c){},73:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(30),r=c.n(n),o=(c(73),c.p,c(21),c(28)),i=c(9),s=c(14),l=c(112),u=c(111),j="CHANGE_THEME",d="CHANGE_UNIT",b="CHANGE_CITY",h="UPDATE_FORCASTS",O="DEFAULT_FORCASTS",f="ADD_FAVORITE",m="DELETE_FAVORITE",v="RESET_FAVORITE",p=c(1),y=function(){var e=Object(s.b)(),t=Object(a.useState)(!0),c=Object(i.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(!0),d=Object(i.a)(o,2);d[0],d[1];return Object(p.jsx)(u.a,{onChange:function(){r(!n),e({type:j,payload:n})},className:n?"toggle-container-dark":"toggle-container-light",children:Object(p.jsx)(l.a,{color:"secondary",size:"large",children:"Change theme"})})},g=c(113),x=c(107),N=c(61),T=c.n(N),S=c(62),C=c.n(S),E=function(){var e=Object(s.c)((function(e){return e.cityReducer})),t=Object(s.b)();return Object(p.jsx)("div",{className:"button-container",children:Object(p.jsxs)(x.a,{direction:"row",spacing:1,children:[Object(p.jsx)(g.a,{onClick:function(){return console.log("fierd from add favorite city",e),void t({type:f,payload:e})},color:"primary","aria-label":"add to shopping cart",children:Object(p.jsx)(T.a,{fontSize:"large"})}),Object(p.jsx)(g.a,{onClick:function(){t({type:m,payload:e.Key})},color:"primary","aria-label":"add to shopping cart",children:Object(p.jsx)(C.a,{fontSize:"large"})})]})})},I=c(114),D=function(){var e=Object(s.b)(),t=Object(a.useState)(!0),c=Object(i.a)(t,2),n=c[0],r=c[1];return Object(p.jsx)(I.a,{onClick:function(){return r(!n),void e({type:d,payload:n})},size:"small",children:"change Unit "})},F=function(){return Object(p.jsxs)("nav",{className:"navbar-container",children:[Object(p.jsx)(y,{}),Object(p.jsxs)("ul",{className:"navbar-ul",children:[Object(p.jsx)("li",{className:"navbar-li",children:Object(p.jsx)(o.b,{className:"navbar-link",to:"/Lior-Solomon-7.11.2021",children:" Weather "})}),Object(p.jsx)("li",{className:"navbar-li",children:Object(p.jsx)(o.b,{className:"navbar-link",to:"/Lior-Solomon-7.11.2021/favorites",children:" Favorites "})}),Object(p.jsx)(E,{})]})]})},K=c(6),R=function(e){var t=e.Key;return fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&language=en-us&details=true")).then((function(e){return e.json()}))},A=function(e){return fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed")).then((function(e){return e.json()}))},k=function(e){var t=e.favoriteCity,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){return function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));e&&(0!==(e=e.filter((function(e){return e.Key===t.Key}))).length?o("Favorite city"):o(""))}()}),[t]),Object(p.jsxs)("div",{className:"text-container",children:[Object(p.jsx)("h1",{className:"header",children:t.LocalizedName}),r&&Object(p.jsx)("h4",{className:"header",children:r})]})},L=c(26),w=(c(46),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=(o[0],o[1]),u=Object(s.b)(),j=Object(s.c)((function(e){return e.cityReducer})),d=function(){var e;(e=c,fetch("http://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=".concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&q=").concat(e,"&language=en-us HTTP/1.1")).then((function(e){return e.json()}))).then((function(e){return O(e)})).then((function(e){var t=e.DailyForecasts;return u({type:h,payload:t})})).catch((function(e){return Object(L.b)("Cant get ".concat(c," forecasts"))}))},O=function(e){u({type:b,payload:e[0]}),l(e[0].Key)};return Object(p.jsxs)("div",{className:"search-container",children:[Object(p.jsx)(k,{favoriteCity:j}),Object(p.jsxs)("div",{className:"search-bar",children:[Object(p.jsx)("input",{className:"search-input",value:c,onChange:function(e){return function(e){var t=e.target.value;t=t.replace(RegExp(/[^A-Z a-z]/gi),""),n(t)}(e)},type:"text"}),Object(p.jsx)("input",{className:"search-button",type:"submit",onClick:function(){return d()},value:"search"}),Object(p.jsx)(L.a,{})]})]})}),z=c(109),W=c(115),B=c(116),M=function(e){var t=e.Temperature,c=new Date(t.currentDay).toLocaleString("en-us",{weekday:"long"}),a=t.Temperature,n=a.Maximum,r=(a.Minimum,t.Day.IconPhrase);return Object(p.jsx)("div",{className:"ForecastsCard-container",children:Object(p.jsx)(z.a,{className:"ForecastsCard",children:Object(p.jsxs)(W.a,{children:[Object(p.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"div",children:c}),Object(p.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(p.jsx)(B.a,{variant:"h6",color:"text.secondary",children:n.Value})]})})})},_=function(){var e=Object(s.c)((function(e){return e.cityReducer})),t=Object(s.c)((function(e){return e.forecastsReducer})),c=Object(s.b)();return Object(a.useEffect)((function(){A(e.Key).then((function(e){return c({type:O,payload:e})})).catch((function(){return Object(L.b)("cannot get forecasts")}))}),[e.Key]),Object(p.jsxs)("div",{className:"weather-container",children:[Object(p.jsx)(w,{}),Object(p.jsxs)("div",{className:"card-container",children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(p.jsx)(M,{Temperature:e},t)})),Object(p.jsx)(L.a,{})]})]})},J=c(19),U=c(117),G=function(e){var t,c,n=e.city,r=(e.currentWeather,Object(s.b)()),l=Object(a.useState)(),u=Object(i.a)(l,2),j=u[0],d=u[1],O=Object(s.c)((function(e){return e.themeReducer.toggleTemp}));console.log(O);return Object(a.useEffect)((function(){R(n).then((function(e){var t=e[0].ApparentTemperature,c=t.Imperial,a=t.Metric;d({Imperial:c,Metric:a})})).catch((function(e){return console.log(e)}))}),[]),Object(p.jsx)("div",{className:"card-container",children:Object(p.jsxs)(z.a,{className:"ForecastsCard",children:[Object(p.jsxs)(W.a,{children:[Object(p.jsx)(B.a,{variant:"h6",color:"text.secondary",children:Object(p.jsx)(B.a,{gutterBottom:!0,variant:"h3",component:"div",children:n.LocalizedName})}),Object(p.jsxs)(B.a,{gutterBottom:!0,variant:"div",component:"h6",children:[Object(p.jsx)(B.a,{gutterBottom:!0,variant:"h6",component:"small",children:O}),Object(p.jsx)(B.a,{gutterBottom:!0,variant:"h6",component:"small",children:"Imperial"===O?null===j||void 0===j||null===(t=j.Imperial)||void 0===t?void 0:t.Value:null===j||void 0===j||null===(c=j.Metric)||void 0===c?void 0:c.Value})]})]}),Object(p.jsxs)(U.a,{children:[Object(p.jsx)(o.b,{to:"/Lior-Solomon-31.10.2021",children:Object(p.jsx)(I.a,{onClick:function(){A(n.Key).then((function(e){return r({type:h,payload:e})})).then((function(){return r({type:b,payload:n})})).catch((function(e){return console.log(e)}))},size:"small",children:"Click here "})}),Object(p.jsx)(D,{})]})]})})},V=function(){var e=Object(s.c)((function(e){return e.favoriteReducer})),t=Object(a.useState)([{}]),c=Object(i.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){!function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));console.log(e,"list of favorite cities"),e&&e.forEach((function(e){return R(e).then((function(e){return r([].concat(Object(J.a)(n),[e]))})).catch((function(){return Object(L.b)("can't show favorites cities")}))}))}()}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(k,{favoriteCity:{LocalizedName:"Favorite cities"}}),null===e||void 0===e?void 0:e.map((function(e,t){return Object(p.jsx)(G,{currentWeather:n,city:e},t)})),Object(p.jsx)(L.a,{})]})},H=function(){return Object(p.jsx)(o.a,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsxs)(K.c,{children:[Object(p.jsx)(K.a,{path:"/",exact:!0,element:Object(p.jsx)(_,{})}),Object(p.jsx)(K.a,{path:"/Lior-Solomon-7.11.2021",exact:!0,element:Object(p.jsx)(_,{})}),Object(p.jsx)(K.a,{path:"/Lior-Solomon-7.11.2021/favorites",exact:!0,element:Object(p.jsx)(V,{})}),Object(p.jsx)(K.a,{path:"/favorites",exact:!0,element:Object(p.jsx)(V,{})})]})]})})},P=function(){var e=Object(s.c)((function(e){return e.themeReducer.toggleTheme}));return console.log(e),Object(p.jsx)("div",{className:e,children:Object(p.jsx)(H,{})})};var q=function(){return Object(p.jsx)(P,{})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,118)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),r(e),o(e)}))},Z=c(34),Q=c(63),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return localStorage.setItem("favoriteCities",JSON.stringify([].concat(Object(J.a)(e),[t.payload]))),[].concat(Object(J.a)(e),[t.payload]);case m:var c=e.filter((function(e){return e.Key!==t.payload}));return localStorage.setItem("favoriteCities",JSON.stringify(c)),c;case v:return localStorage.setItem("favoriteCities",JSON.stringify([])),e;default:return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy"},t=arguments.length>1?arguments[1]:void 0;if(t.type===b){var c=t.payload,a=c.LocalizedName,n=c.Key,r=c.WeatherText;return{LocalizedName:a,Key:n,WeatherText:r}}return e},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var c=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return c;case O:console.log(t.payload.DailyForecasts);var a=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return a;default:return e}},te=c(27),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toggleTheme:"light",toggleTemp:"Imperial"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return console.log(t.payload),t.payload?Object(te.a)(Object(te.a)({},e),{},{toggleTheme:"dark"}):Object(te.a)(Object(te.a)({},e),{},{toggleTheme:"light"});case d:return console.log(t.payload),t.payload?(console.log(t.payload),Object(te.a)(Object(te.a)({},e),{},{toggleTemp:"Imperial"})):Object(te.a)(Object(te.a)({},e),{},{toggleTemp:"Metric"});default:return e}},ae=Object(Z.b)({themeReducer:ce,favoriteReducer:X,cityReducer:$,forecastsReducer:ee}),ne=Object(Z.d)(ae,Object(Z.c)(Object(Z.a)(Q.a)));r.a.render(Object(p.jsx)(s.a,{store:ne,children:Object(p.jsx)(q,{})}),document.getElementById("root")),Y()}},[[83,1,2]]]);
//# sourceMappingURL=main.2340658a.chunk.js.map