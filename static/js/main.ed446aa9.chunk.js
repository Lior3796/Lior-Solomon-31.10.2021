(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{21:function(e,t,c){},72:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(27),r=c.n(a),i=(c(72),c.p,c(21),"CHANGE_THEME"),o="CHANGE_CITY",s="UPDATE_FORCASTS",u="DEFAULT_FORCASTS",l="ADD_FAVORITE",j="DELETE_FAVORITE",d=c(37),b=c(11),h=c(15),O=c(109),f=c(108),v=c(1),x=function(){var e=Object(h.b)(),t=Object(n.useState)(!0),c=Object(b.a)(t,2),a=c[0],r=c[1];return Object(v.jsx)(f.a,{onChange:function(t){r(!a),e({type:i,payload:a})},className:a?"toggle-container-dark":"toggle-container-light",children:Object(v.jsx)(O.a,{color:"secondary",size:"large",children:"Change theme"})})},p=c(110),m=c(104),y=c(57),g=c.n(y),N=c(58),T=c.n(N),C=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.cityReducer}));return Object(v.jsx)("div",{id:"button",className:"button-container",children:Object(v.jsxs)(m.a,{direction:"row",spacing:1,children:[Object(v.jsx)(p.a,{onClick:function(){e({type:l,payload:t})},color:"primary","aria-label":"add to shopping cart",children:Object(v.jsx)(g.a,{fontSize:"large"})}),Object(v.jsx)(p.a,{onClick:function(){e({type:j,payload:t.Key})},color:"primary","aria-label":"add to shopping cart",children:Object(v.jsx)(T.a,{fontSize:"large"})})]})})},F=function(){return Object(v.jsxs)("nav",{children:[Object(v.jsx)(x,{}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(d.b,{to:"/",children:" Weather "})}),Object(v.jsx)("li",{children:Object(v.jsx)(d.b,{to:"/favorites",children:" Favorites "})}),Object(v.jsx)(C,{})]})]})},D=c(6),S=function(e){var t=e.favoriteCity;return console.log(t.isFavorite),Object(v.jsxs)("div",{className:"text-container",children:[Object(v.jsx)("h1",{className:"header",children:t.LocalizedName}),Object(v.jsx)("h3",{children:(null===t||void 0===t?void 0:t.isFavorite)&&"favorite"})]})},E=c(43),K=(c(81),function(){var e=Object(n.useRef)(""),t=Object(n.useState)("Tel aviv"),c=Object(b.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),l=(u[0],u[1]),j=Object(h.b)(),d=Object(h.c)((function(e){return e.cityReducer})),O=function(){var e;Object(E.b)("Load your forecasts"),(e=a,fetch("http://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=".concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&q=").concat(e,"&language=en-us HTTP/1.1")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){return f(e)})).then((function(e){var t=e.DailyForecasts;return j({type:s,payload:t})})).catch((function(e){return Object(E.b)("something went wrong ")}))},f=function(e){j({type:o,payload:e[0]}),l(e[0].Key)};return Object(n.useEffect)((function(){}),[d]),Object(v.jsx)("div",{className:"search-container",children:Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{favoriteCity:d}),Object(v.jsxs)("div",{className:"search-bar",children:[Object(v.jsx)("input",{ref:e,type:"text",onChange:function(e){r(e.target.value)}}),Object(v.jsx)("input",{type:"submit",onClick:function(){return O()},value:"search"}),Object(v.jsx)(E.a,{})]})]})})}),w=c(106),R=c(111),z=c(112),A=function(e){var t=e.Temperature,c=new Date(t.currentDay).toLocaleString("en-us",{weekday:"long"}),n=t.Temperature,a=n.Maximum,r=(n.Minimum,t.Day.IconPhrase);return console.log(t.Day),Object(v.jsx)("div",{className:"ForecastsCard-container",children:Object(v.jsx)(w.a,{className:"ForecastsCard",children:Object(v.jsxs)(R.a,{children:[Object(v.jsx)(z.a,{gutterBottom:!0,variant:"h5",component:"div",children:c}),Object(v.jsx)(z.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(v.jsx)(z.a,{variant:"h6",color:"text.secondary",children:a.Value})]})})})},I=function(){var e=Object(h.c)((function(e){return e.cityReducer})),t=Object(h.c)((function(e){return e.forecastsReducer})),c=Object(h.b)(),a=Object(n.useState)(),r=Object(b.a)(a,2),i=(r[0],r[1],function(){var t;(t=e.Key,fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){return c({type:u,payload:e})})).catch((function(e){return console.log(e)}))});return Object(n.useEffect)((function(){i()}),[e.Key]),Object(v.jsxs)("div",{className:"weather-container",children:[Object(v.jsx)(K,{}),Object(v.jsx)("div",{className:"card-container",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(A,{Temperature:e},t)}))})]})},L=c(113),k=c(114),W=function(e){var t=e.city;return console.log(t),Object(v.jsx)("div",{className:"card-container",children:Object(v.jsxs)(w.a,{className:"ForecastsCard",id:"favoriteCard",children:[Object(v.jsxs)(R.a,{children:[Object(v.jsx)(z.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.WeatherText}),Object(v.jsx)(z.a,{variant:"body2",color:"text.secondary",children:t.LocalizedName})]}),Object(v.jsxs)(L.a,{children:[Object(v.jsx)(k.a,{size:"small",children:"Share"}),Object(v.jsx)(k.a,{size:"small",children:"Learn More"})]})]})})},_=function(){var e=Object(h.c)((function(e){return e.favoriteReducer})),t=Object(n.useState)([]),c=Object(b.a)(t,2),a=(c[0],c[1]),r=function(){return JSON.parse(localStorage.getItem("favoriteCities")).forEach((function(e){(function(e){var t=e.Key;return fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&language=en-us&details=true")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e.Key).then((function(e){return e})).catch((function(e){return console.log(e)}))}))};return Object(n.useEffect)((function(){a(r())}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"card-container",children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(v.jsx)(W,{city:e},t)}))})})},B=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsxs)(D.c,{children:[Object(v.jsx)(D.a,{path:"/",exact:!0,element:Object(v.jsx)(I,{})}),Object(v.jsx)(D.a,{path:"/Weather-app",exact:!0,element:Object(v.jsx)(I,{})}),Object(v.jsx)(D.a,{path:"/Weather-app/favorites",exact:!0,element:Object(v.jsx)(_,{})}),Object(v.jsx)(D.a,{path:"/favorites",exact:!0,element:Object(v.jsx)(_,{})})]})]})})})},G=function(){var e=Object(h.c)((function(e){return e.themeReducer.ToggleTheme}));return Object(v.jsx)("div",{className:e,children:Object(v.jsx)(B,{})})};var J=function(){return Object(v.jsx)(G,{})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,115)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},P=c(31),U=c(59),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ToggleTheme:"light"},t=arguments.length>1?arguments[1]:void 0;return t.type===i?(console.log(t.payload),t.payload?{ToggleTheme:"dark"}:{ToggleTheme:"light"}):e},H=c(38),Y=c(20),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return localStorage.setItem("favoriteCities",JSON.stringify([].concat(Object(Y.a)(e),[Object(H.a)(Object(H.a)({},t.payload),{},{isFavorite:!0})]))),[].concat(Object(Y.a)(e),[Object(H.a)(Object(H.a)({},t.payload),{},{isFavorite:!0})]);case j:var c=e.filter((function(e){return e.Key!==t.payload}));return localStorage.setItem("favoriteCities",JSON.stringify(c)),c;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy",isFavorite:!1},t=arguments.length>1?arguments[1]:void 0;if(t.type===o){var c=t.payload,n=c.LocalizedName,a=c.Key,r=c.WeatherText;return{LocalizedName:n,Key:a,WeatherText:r}}return e},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var c=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return c;case u:var n=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return n;default:return e}},Z=Object(P.b)({themeReducer:q,favoriteReducer:V,cityReducer:Q,forecastsReducer:X}),$=Object(P.d)(Z,Object(P.c)(Object(P.a)(U.a)));r.a.render(Object(v.jsx)(h.a,{store:$,children:Object(v.jsx)(J,{})}),document.getElementById("root")),M()}},[[83,1,2]]]);
//# sourceMappingURL=main.ed446aa9.chunk.js.map