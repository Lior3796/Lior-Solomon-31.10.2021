(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{244:function(e,t,n){},37:function(e,t,n){},451:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(31),r=n.n(c),i=(n(244),n.p,n(37),n(9)),o=n(15),s=n(57),l=n(494),u=n(493),j="CHANGE_THEME",b="CHANGE_UNIT",d="CHANGE_CITY",h="UPDATE_FORCASTS",p="DEFAULT_FORCASTS",f="ADD_FAVORITE",O="DELETE_FAVORITE",v=n(1),x=function(){var e=Object(o.b)(),t=Object(a.useState)(!0),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(v.jsx)(u.a,{onChange:function(){r(!c),e({type:j,payload:c}),console.log("clicked")},className:c?"toggle-container-light":"toggle-container-dark",children:Object(v.jsx)(l.a,{style:{fontFamily:"Assistant",fontSize:"1.2rem",marginRight:"5px"},color:"secondary",size:"medium",children:"Change theme"})})},m=function(){var e=Object(o.b)(),t=Object(a.useState)(!0),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(o.c)((function(e){return e.toggleReducer})).toggleTheme;return Object(v.jsx)(u.a,{onClick:function(){return r(!c),void e({type:b,payload:c})},className:"toggle-container-".concat(s),children:Object(v.jsx)(l.a,{style:{fontFamily:"Assistant",fontSize:"1.2rem",marginRight:"5px"},color:"secondary",size:"medium",children:"Change Unit"})})},y=function(e){var t=e.favoriteCity,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=(c[0],c[1]);return Object(a.useEffect)((function(){return function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));e&&0!==(e=e.filter((function(e){return e.Key===t.Key}))).length&&r("Favorite city")}()}),[t]),Object(v.jsx)("div",{className:"text-container",children:Object(v.jsx)("h1",{className:"header",children:t.LocalizedName||"Favorite cities"})})},g=n(487),w=n(499),N=n(216),T=n.n(N),k=function(){var e=Object(o.c)((function(e){return e.cityReducer})),t=Object(o.b)();return Object(v.jsx)("div",{children:Object(v.jsx)(w.a,{onClick:function(){t({type:f,payload:e})},color:"primary","aria-label":"add to shopping cart",children:Object(v.jsx)(T.a,{fontSize:"large"})})})},C=n(217),S=n.n(C),A=function(){var e=Object(o.c)((function(e){return e.cityReducer})),t=Object(o.b)();return Object(v.jsx)(w.a,{onClick:function(){t({type:O,payload:e.Key})},color:"primary","aria-label":"add to shopping cart",children:Object(v.jsx)(S.a,{fontSize:"large"})})},F=function(){return Object(v.jsx)("div",{className:"button-container",children:Object(v.jsxs)(g.a,{direction:"row",spacing:1,children:[Object(v.jsx)(k,{}),Object(v.jsx)(A,{})]})})},R=n(8),D=n(495),E=n(489),z=n(498),M=n(496),I=n(497),K=n(219),V=n.n(K),J=n(491),L=n(500),B=n(501),G=n(218),P=n.n(G),H=n(14),W=function(e){var t=e.pathname,n=e.text,a=Object(H.f)();return Object(v.jsxs)(J.a,{button:!0,onClick:function(){return a({pathname:t})},children:[Object(v.jsx)(L.a,{children:Object(v.jsx)(P.a,{})}),Object(v.jsx)(B.a,{primary:n})]})};function _(){var e,t=Object(a.useState)({left:!1}),n=Object(i.a)(t,2),c=n[0],r=n[1],o=function(e,t){return function(n){r(Object(R.a)({},e,t))}},s=[{pathname:"/weather-app/favorites",text:"favorite"},{pathname:"/weather-app",text:"weather"}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(z.a,{style:{zIndex:10},onClick:o("left",!0),children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(E.a,{anchor:"left",open:c.left,onClose:o("left",!1),onOpen:o("left",!0),children:(e="left",Object(v.jsxs)(D.a,{sx:{width:"top"===e||"bottom"===e?"auto":200},role:"presentation",onClick:o(e,!1),onKeyDown:o(e,!1),children:[Object(v.jsxs)(M.a,{children:[s.map((function(e,t){return Object(v.jsx)(W,{pathname:e.pathname,text:e.text},t)})),Object(v.jsx)(x,{}),Object(v.jsx)(m,{}),Object(v.jsx)(k,{}),Object(v.jsx)(A,{})]}),Object(v.jsx)(I.a,{})]}))})]})}var Q=function(){var e=Object(o.c)((function(e){return e.cityReducer}));return Object(v.jsxs)("nav",{className:"navbar-container",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(x,{}),Object(v.jsx)(m,{})]}),Object(v.jsx)(y,{favoriteCity:e}),Object(v.jsxs)("ul",{className:"navbar-ul",children:[Object(v.jsx)("li",{className:"navbar-li",children:Object(v.jsx)(s.b,{className:"navbar-link",to:"/weather-app",children:" Weather "})}),Object(v.jsx)("li",{className:"navbar-li",children:Object(v.jsx)(s.b,{className:"navbar-link",to:"/weather-app/favorites",children:" Favorites "})}),Object(v.jsx)(F,{})]})]})},q=n(32),U=n.n(q),Z=n(47),Y=function(e){var t=e.Key;return fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ","&language=en-us&details=true")).then((function(e){return e.json()}))},X=function(e){return fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ")).then((function(e){return e.json()}))},$=n(36),ee=(n(88),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.b)(),s=function(){var e=Object(Z.a)(U.a.mark((function e(){var t,a,c,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=n,fetch("https://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=".concat("4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ","&q=").concat(o,"&language=en-us HTTP/1.1")).then((function(e){return e.json()}));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object($.b)("Cant get ".concat(n," forecasts"));case 9:return e.prev=9,a=l(t),e.next=13,X(a.Key);case 13:c=e.sent,i=c.DailyForecasts,r({type:h,payload:i}),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),Object($.b)("Cant get ".concat(n," forecasts"));case 21:case"end":return e.stop()}var o}),e,null,[[0,6],[9,18]])})));return function(){return e.apply(this,arguments)}}(),l=function(e){return r({type:d,payload:e[0]}),e[0]};return Object(v.jsx)("div",{className:"search-container",children:Object(v.jsxs)("div",{className:"search-bar",children:[Object(v.jsx)("input",{className:"search-input",value:n,onChange:function(e){return function(e){var t=e.target.value;t=t.replace(RegExp(/[^A-Z a-z]/gi),""),c(t)}(e)},type:"text"}),Object(v.jsx)("input",{className:"search-button",type:"submit",onClick:function(){return s()},value:"search"})]})})}),te=n(504),ne=n(505),ae=n(502),ce=n(488),re=n(220),ie=n.n(re),oe=n(221),se=n.n(oe),le=function(e){var t=e.forecast,n=Object(o.c)((function(e){return e.toggleReducer.toggleTemp})),a=t.Temperature,c=a.Maximum,r=a.Minimum,i=t.Day.IconPhrase,s=t.currentDay,l=(new Date).toLocaleString().replace(",","");s=new Date(s).toLocaleString("en-us",{weekday:"long"}),l=l.slice(l.length-2);var u={transition:{duration:7,delay:1.5},visible:{opacity:1,y:"0px"},hidden:{opacity:0,y:"40vh"}},j=function(e){return Math.floor(5*(e-32)/9)};return Object(v.jsx)(ce.a.div,{className:"ForecastsCard-container",children:Object(v.jsxs)(te.a,{component:ce.a.div,whileHover:{scale:1.2,transition:{duration:.3}},whileTap:{scale:.9},className:"ForecastsCard",children:[Object(v.jsxs)(ne.a,{className:"card-content",children:[Object(v.jsxs)(ae.a,{gutterBottom:!0,variant:"h3",component:"div",children:[s,"AM"===l?Object(v.jsx)(ie.a,{variants:u,initial:"hidden",animate:"visible",component:ce.a.svg,style:{color:"yellow",fontSize:"3rem"},className:"weather-icon-".concat(l)}):Object(v.jsx)(se.a,{variants:u,initial:"hidden",animate:"visible",component:ce.a.svg,style:{color:"black",fontSize:"3rem"},className:"weather-icon-".concat(l)})]}),Object(v.jsx)(ae.a,{gutterBottom:!0,variant:"h4",component:"div",children:i}),Object(v.jsxs)(ae.a,{variant:"h5",color:"text.secondary",children:["Min:","Imperial"===n?j(r.Value):r.Value]}),Object(v.jsxs)(ae.a,{variant:"h5",color:"text.secondary",children:["Max:","Imperial"===n?j(c.Value):c.Value]})]}),Object(v.jsx)("div",{class:"custom-shape-divider-bottom-1637765530",children:Object(v.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(v.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",style:{fill:"AM"===l?"#9af2ff":"#2f2b3c"}})})})]})})},ue=function(){var e=Object(o.c)((function(e){return e.cityReducer})).Key,t=Object(o.c)((function(e){return e})).forecastsReducer,n=Object(o.b)(),c=function(){var t=Object(Z.a)(U.a.mark((function t(){var a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X(e);case 3:a=t.sent,n({type:p,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("cant update forecasts");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),r={transition:{duration:5,delay:1.5},visible:{x:"0px"},hidden:{x:"100vw"}};return Object(a.useEffect)((function(){c()}),[e]),Object(v.jsxs)("div",{className:"weather-container",children:[Object(v.jsx)(ee,{}),Object(v.jsxs)("div",{className:"card-container",children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(le,{component:ce.a.div,initial:"hidden",animate:"visible",variants:r,forecast:e},t)})),Object(v.jsx)($.a,{})]})]})},je=n(26),be=n(506),de=function(e){var t,n,c=e.city,r=Object(H.f)(),s=Object(o.b)(),l=Object(a.useState)(),u=Object(i.a)(l,2),j=u[0],b=u[1],p=Object(o.c)((function(e){return e.toggleReducer.toggleTemp})),f=function(){var e=Object(Z.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(c.Key);case 3:t=e.sent,n=t.DailyForecasts,s({type:h,payload:n}),s({type:d,payload:c}),r({pathname:"/weather-app"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object($.b)("city not found");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(Z.a)(U.a.mark((function e(){var t,n,a,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(c);case 3:t=e.sent,n=t[0].ApparentTemperature,a=n.Imperial,r=n.Metric,b({Imperial:a,Metric:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object($.b)("can't get weather for this city");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(v.jsxs)(te.a,{className:"favoriteCard",children:[Object(v.jsxs)(ne.a,{children:[Object(v.jsx)(ae.a,{color:"text.primary",children:Object(v.jsx)(ae.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"div",children:c.LocalizedName})}),Object(v.jsxs)(ae.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"div",component:"h3",children:[Object(v.jsx)(ae.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"div",children:p}),Object(v.jsx)(ae.a,{style:{fontFamily:"Assistant",textAlign:"center"},gutterBottom:!0,variant:"h3",component:"small",children:"Imperial"===p?null===j||void 0===j||null===(t=j.Imperial)||void 0===t?void 0:t.Value:null===j||void 0===j||null===(n=j.Metric)||void 0===n?void 0:n.Value})]})]}),Object(v.jsx)(be.a,{children:Object(v.jsx)(z.a,{onClick:function(){return f()},size:"large",children:"Click here "})}),Object(v.jsx)($.a,{})]})},he=n(87),pe=(Object(he.withScriptjs)(Object(he.withGoogleMap)((function(e){return Object(v.jsx)(he.GoogleMap,{defaultZoom:8,defaultCenter:{lat:-34.397,lng:150.644},children:Object(v.jsx)(he.Marker,{position:{lat:34.397,lng:150.644}})})}))),function(){var e=Object(o.c)((function(e){return e.favoriteReducer}));console.log(e);var t=Object(a.useState)([{}]),n=Object(i.a)(t,2),c=n[0],r=n[1],s=function(e){return e.forEach(function(){var e=Object(Z.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,r([].concat(Object(je.a)(c),[n]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(a.useEffect)((function(){!function(){var e;try{e=JSON.parse(localStorage.getItem("favoriteCities"))}catch(t){Object($.b)("cant get favorite cities")}try{if(!e)return;s(e)}catch(t){Object($.b)("cant get favorite cities")}}()}),[]),Object(v.jsxs)("div",{className:"favorite-container",children:[Object(v.jsx)("div",{className:"card-container",children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(v.jsx)(de,{currentWeather:c,city:e},t)}))}),Object(v.jsx)($.a,{})]})}),fe=function(){var e=Object(a.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.cityReducer}));return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){return c(window.innerWidth)}))}),[]),Object(v.jsx)(s.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:n<550&&"layout-container",children:[n>550?Object(v.jsx)(Q,{}):Object(v.jsx)(_,{}),n<550&&Object(v.jsx)(y,{favoriteCity:r})]}),Object(v.jsxs)(H.c,{children:[Object(v.jsx)(H.a,{path:"/weather-app",exact:!0,element:Object(v.jsx)(ue,{})}),Object(v.jsx)(H.a,{path:"/weather-app/favorites",exact:!0,element:Object(v.jsx)(pe,{})})]})]})})},Oe=function(){var e=Object(o.c)((function(e){return e.toggleReducer.toggleTheme}));return Object(v.jsx)("div",{className:e,children:Object(v.jsx)(fe,{})})};var ve=function(){return Object(v.jsx)(Oe,{})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},me=n(76),ye=n(224),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e.length&&e.find((function(e){return e.Key===t.payload.Key}))?e:[].concat(Object(je.a)(e),[t.payload]);case O:var n=e.filter((function(e){return e.Key!==t.payload}));return n;default:return e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy"},t=arguments.length>1?arguments[1]:void 0;if(t.type===d){console.log(e);var n=t.payload,a=n.LocalizedName,c=n.Key,r=n.WeatherText;return{LocalizedName:a,Key:c,WeatherText:r}}return e},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return n;case p:var a=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return a;default:return e}},Te=n(49),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toggleTheme:"light",toggleTemp:"Metric"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload?Object(Te.a)(Object(Te.a)({},e),{},{toggleTheme:"dark"}):Object(Te.a)(Object(Te.a)({},e),{},{toggleTheme:"light"});case b:return t.payload?Object(Te.a)(Object(Te.a)({},e),{},{toggleTemp:"Imperial"}):Object(Te.a)(Object(Te.a)({},e),{},{toggleTemp:"Metric"});default:return e}},Ce=Object(me.b)({toggleReducer:ke,favoriteReducer:ge,cityReducer:we,forecastsReducer:Ne}),Se=Object(me.d)(Ce,Object(me.c)(Object(me.a)(ye.a)));r.a.render(Object(v.jsx)(o.a,{store:Se,children:Object(v.jsx)(ve,{})}),document.getElementById("root")),xe()}},[[451,1,2]]]);
//# sourceMappingURL=main.165206de.chunk.js.map