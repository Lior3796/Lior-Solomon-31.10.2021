(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{21:function(e,t,c){},69:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(27),r=c.n(n),o=(c(69),c.p,c(21),c(38)),i=c(11),s=c(14),l=c(107),u=c(106),j="CHANGE_THEME",d="CHANGE_CITY",b="UPDATE_FORCASTS",h="DEFAULT_FORCASTS",O="ADD_FAVORITE",f="DELETE_FAVORITE",v="RESET_FAVORITE",p=c(1),y=function(){var e=Object(s.b)(),t=Object(a.useState)(!0),c=Object(i.a)(t,2),n=c[0],r=c[1];return Object(p.jsx)(u.a,{onChange:function(t){r(!n),e({type:j,payload:n})},className:n?"toggle-container-dark":"toggle-container-light",children:Object(p.jsx)(l.a,{color:"secondary",size:"large",children:"Change theme"})})},m=c(108),x=c(102),g=c(57),T=c.n(g),S=c(58),N=c.n(S),C=function(){var e=Object(s.c)((function(e){return e.cityReducer})),t=Object(s.b)();return Object(p.jsx)("div",{className:"button-container",children:Object(p.jsxs)(x.a,{direction:"row",spacing:1,children:[Object(p.jsx)(m.a,{onClick:function(){return console.log("fierd from add favorite city",e),void t({type:O,payload:e})},color:"primary","aria-label":"add to shopping cart",children:Object(p.jsx)(T.a,{fontSize:"large"})}),Object(p.jsx)(m.a,{onClick:function(){t({type:f,payload:e.Key})},color:"primary","aria-label":"add to shopping cart",children:Object(p.jsx)(N.a,{fontSize:"large"})})]})})},F=function(){return Object(p.jsxs)("nav",{className:"navbar-container",children:[Object(p.jsx)(y,{}),Object(p.jsxs)("ul",{className:"navbar-ul",children:[Object(p.jsx)("li",{className:"navbar-li",children:Object(p.jsx)(o.b,{to:"/Lior-Solomon-31.10.2021",children:" Weather "})}),Object(p.jsx)("li",{className:"navbar-li",children:Object(p.jsx)(o.b,{to:"/Lior-Solomon-31.10.2021/favorites",children:" Favorites "})}),Object(p.jsx)(C,{})]})]})},D=c(6),E=function(e){return fetch("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ")).then((function(e){return e.json()}))},w=function(e){var t=e.favoriteCity,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));e&&(0!==(e=e.filter((function(e){return e.Key===t.Key}))).length?o("Favorite city"):o("")),console.log(e,"Header componentes")}),[t]),Object(p.jsxs)("div",{className:"text-container",children:[Object(p.jsx)("h1",{className:"header",children:t.LocalizedName}),r?Object(p.jsx)("h3",{children:"favorite"}):Object(p.jsx)(p.Fragment,{})]})},R=c(30),k=(c(53),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=(o[0],o[1]),u=Object(s.b)(),j=Object(s.c)((function(e){return e.cityReducer})),h=function(){var e;(e=c,fetch("http://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ&q=".concat(e,"&language=en-us HTTP/1.1")).then((function(e){return e.json()}))).then((function(e){return O(e)})).then((function(e){var t=e.DailyForecasts;return u({type:b,payload:t})})).catch((function(e){return Object(R.b)("Cant get ".concat(c," forecasts"))}))},O=function(e){u({type:d,payload:e[0]}),l(e[0].Key)};return Object(p.jsxs)("div",{className:"search-container",children:[Object(p.jsx)(w,{favoriteCity:j}),Object(p.jsxs)("div",{className:"search-bar",children:[Object(p.jsx)("input",{value:c,onChange:function(e){return function(e){var t=e.target.value;t=t.replace(RegExp(/[^A-Za-z]/gi),""),n(t)}(e)},type:"text"}),Object(p.jsx)("input",{type:"submit",onClick:function(){return h()},value:"search"}),Object(p.jsx)(R.a,{})]})]})}),J=c(104),K=c(109),L=c(110),z=function(e){var t=e.Temperature,c=new Date(t.currentDay).toLocaleString("en-us",{weekday:"long"}),a=t.Temperature,n=a.Maximum,r=(a.Minimum,t.Day.IconPhrase);return Object(p.jsx)("div",{className:"ForecastsCard-container",children:Object(p.jsx)(J.a,{className:"ForecastsCard",children:Object(p.jsxs)(K.a,{children:[Object(p.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"div",children:c}),Object(p.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(p.jsx)(L.a,{variant:"h6",color:"text.secondary",children:n.Value})]})})})},A=function(){var e=Object(s.c)((function(e){return e.cityReducer})),t=Object(s.c)((function(e){return e.forecastsReducer})),c=Object(s.b)();return Object(a.useEffect)((function(){E(e.Key).then((function(e){return c({type:h,payload:e})})).catch((function(e){return console.log(e)}))}),[e.Key]),Object(p.jsxs)("div",{className:"weather-container",children:[Object(p.jsx)(k,{}),Object(p.jsx)("div",{className:"card-container",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(p.jsx)(z,{Temperature:e},t)}))})]})},I=c(111),V=c(112),B=function(e){var t=e.city,c=Object(s.b)();return Object(p.jsx)("div",{className:"card-container",children:Object(p.jsxs)(J.a,{className:"ForecastsCard",id:"favoriteCard",children:[Object(p.jsxs)(K.a,{children:[Object(p.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.WeatherText}),Object(p.jsx)(L.a,{variant:"body1",color:"text.secondary",children:Object(p.jsx)(L.a,{gutterBottom:!0,variant:"h3",component:"div",children:t.LocalizedName})})]}),Object(p.jsx)(I.a,{children:Object(p.jsx)(V.a,{onClick:function(){return console.log(t),void E(t.Key).then((function(e){return c({type:b,payload:e})})).catch((function(e){return console.log(e)}))},size:"small",children:"Click here "})})]})})},P=function(){Object(s.c)((function(e){return e.favoriteReducer}));var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],r=function(){var e=JSON.parse(localStorage.getItem("favoriteCities"));console.log(e,"list of favorite cities"),e&&e.forEach((function(e){return function(e){var t=e.Key;return fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=4jiV4kQw8qp9aKj7rTVgSPBcJJSGQ5zJ&language=en-us&details=true")).then((function(e){return e.json()}))}(e).then((function(e){return n(e)})).catch((function(){return Object(R.b)("can't show favorites cities")}))}))};return Object(a.useEffect)((function(){r()}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)(w,{favoriteCity:{LocalizedName:"Favorite cities"}}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(p.jsx)(B,{city:e},t)})),Object(p.jsx)(R.a,{})]})},_=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(o.a,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsxs)(D.c,{children:[Object(p.jsx)(D.a,{path:"/",exact:!0,element:Object(p.jsx)(A,{})}),Object(p.jsx)(D.a,{path:"/Lior-Solomon-31.10.2021",exact:!0,element:Object(p.jsx)(A,{})}),Object(p.jsx)(D.a,{path:"/Lior-Solomon-31.10.2021/favorites",exact:!0,element:Object(p.jsx)(P,{})}),Object(p.jsx)(D.a,{path:"/favorites",exact:!0,element:Object(p.jsx)(P,{})})]})]})})})},Q=function(){var e=Object(s.c)((function(e){return e.themeReducer.ToggleTheme}));return Object(p.jsx)("div",{className:e,children:Object(p.jsx)(_,{})})};var G=function(){return Object(p.jsx)(Q,{})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,113)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),r(e),o(e)}))},W=c(32),q=c(59),M=c(20),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return localStorage.setItem("favoriteCities",JSON.stringify([].concat(Object(M.a)(e),[t.payload]))),[].concat(Object(M.a)(e),[t.payload]);case f:var c=e.filter((function(e){return e.Key!==t.payload}));return localStorage.setItem("favoriteCities",JSON.stringify(c)),c;case v:return localStorage.setItem("favoriteCities",JSON.stringify([])),e;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy"},t=arguments.length>1?arguments[1]:void 0;if(t.type===d){var c=t.payload,a=c.LocalizedName,n=c.Key,r=c.WeatherText;return{LocalizedName:a,Key:n,WeatherText:r}}return e},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var c=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return c;case h:console.log(t.payload.DailyForecasts);var a=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return a;default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ToggleTheme:"light"},t=arguments.length>1?arguments[1]:void 0;return t.type===j?(console.log(t.payload),t.payload?{ToggleTheme:"dark"}:{ToggleTheme:"light"}):e},$=Object(W.b)({themeReducer:X,favoriteReducer:U,cityReducer:Y,forecastsReducer:Z}),ee=Object(W.d)($,Object(W.c)(Object(W.a)(q.a)));r.a.render(Object(p.jsx)(s.a,{store:ee,children:Object(p.jsx)(G,{})}),document.getElementById("root")),H()}},[[79,1,2]]]);
//# sourceMappingURL=main.70b79e05.chunk.js.map