(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{106:function(e,t,c){},120:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(27),r=c.n(a),o=(c(106),c.p,c(25),"CHANGE_THEME"),i="CHANGE_CITY",s="UPDATE_FORCASTS",l="DEFAULT_FORCASTS",u="ADD_FAVORITE",j="DELETE_FAVORITE",d=c(50),h=c(11),b=c(17),O=c(173),f=c(172),v=c(2),m=function(){var e=Object(b.b)(),t=Object(n.useState)(!0),c=Object(h.a)(t,2),a=c[0],r=c[1];return Object(v.jsx)(f.a,{onChange:function(t){r(!a),e({type:o,payload:a})},children:Object(v.jsx)(O.a,{children:"change theme"})})},x=c(174),p=c(164),y=c(81),g=c.n(y),N=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.cityReducer}));return Object(v.jsx)("div",{id:"button",className:"button-container",children:Object(v.jsx)(p.a,{direction:"row",spacing:1,children:Object(v.jsx)(x.a,{onClick:function(){return console.log("fires"),void e({type:u,payload:t})},color:"primary","aria-label":"add to shopping cart",children:Object(v.jsx)(g.a,{fontSize:"large"})})})})},T=function(){return Object(v.jsxs)("nav",{children:[Object(v.jsx)(m,{}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(d.b,{to:"/Weather",children:" Weather "})}),Object(v.jsx)("li",{children:Object(v.jsx)(d.b,{to:"/favorites",children:" Favorites "})}),Object(v.jsx)(N,{})]})]})},C=c(14),D=function(e){return fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},E=(c(72),c(170),c(169),c(175)),S=c(178),F=c(176),K=c(179),A=c(177),R=function(e){var t=e.city;return console.log(t),Object(v.jsx)("div",{className:"card-container",children:Object(v.jsxs)(E.a,{className:"ForecastsCard",id:"favoriteCard",children:[Object(v.jsxs)(F.a,{children:[Object(v.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.WeatherText}),Object(v.jsx)(A.a,{variant:"body2",color:"text.secondary",children:t.LocalizedName})]}),Object(v.jsxs)(S.a,{children:[Object(v.jsx)(K.a,{size:"small",children:"Share"}),Object(v.jsx)(K.a,{size:"small",children:"Learn More"})]})]})})},w=function(e){var t=e.favoriteCity;return Object(v.jsx)("div",{className:"text-container",children:Object(v.jsx)("h1",{className:"header",children:t.LocalizedName})})},z=function(){console.log("e25meNIzYKNA9UEN69bmaa76W1KGNqed");var e=Object(n.useState)("Tel aviv"),t=Object(h.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),o=Object(h.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)([]),d=Object(h.a)(j,2),O=(d[0],d[1]),f=Object(b.b)(),m=Object(b.c)((function(e){return e.cityReducer})),x=function(){var e;console.log(c),(e=c,fetch("http://dataservice.accuweather.com//locations/v1/cities/autocomplete?apikey=".concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&q=").concat(e,"&language=en-us HTTP/1.1")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){return p(e)})).then((function(e){var t=e.DailyForecasts;return f({type:s,payload:t})})).catch((function(e){return console.log(e)}))},p=function(e){return O(e[0]),console.log(e),f({type:i,payload:e[0]}),u(e[0].Key),D(l)};return Object(v.jsx)("div",{className:"search-container",children:Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{favoriteCity:m}),Object(v.jsxs)("div",{className:"search-bar",children:[Object(v.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)}}),Object(v.jsx)("input",{type:"submit",onClick:function(){return x()},value:"search"})]})]})})},I=function(e){var t=e.Temperature,c=new Date(t.currentDay).toLocaleString("en-us",{weekday:"long"}),n=t.Temperature,a=n.Maximum,r=(n.Minimum,t.Day.IconPhrase);return console.log(t.Day),Object(v.jsx)("div",{className:"ForecastsCard-container",children:Object(v.jsx)(E.a,{className:"ForecastsCard",children:Object(v.jsxs)(F.a,{children:[Object(v.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"div",children:c}),Object(v.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(v.jsx)(A.a,{variant:"h6",color:"text.secondary",children:a.Value})]})})})},L=function(){var e=Object(b.c)((function(e){return e.cityReducer})),t=Object(b.c)((function(e){return e.forecastsReducer})),c=Object(b.b)();return Object(n.useEffect)((function(){console.log("fired"),D(e.Key).then((function(e){return c({type:l,payload:e})})).catch((function(e){return console.log(e)}))}),[]),Object(v.jsxs)("div",{className:"weather-container",children:[Object(v.jsx)(z,{}),Object(v.jsx)("div",{className:"card-container",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(I,{Temperature:e},t)}))})]})},W=function(){var e=Object(b.c)((function(e){return e.favoriteReducer})),t=Object(n.useState)([]),c=Object(h.a)(t,2),a=(c[0],c[1]),r=function(){return JSON.parse(localStorage.getItem("favoriteCities")).forEach((function(e){(function(e){var t=e.Key;return fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("e25meNIzYKNA9UEN69bmaa76W1KGNqed","&language=en-us&details=true")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e.Key).then((function(e){return e})).catch((function(e){return console.log(e)}))}))};return Object(n.useEffect)((function(){a(r())}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Hi Favorites"}),Object(v.jsx)("div",{className:"card-container",children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(v.jsx)(R,{city:e},t)}))})]})},k=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T,{}),Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{exact:!0,path:"/",element:Object(v.jsx)(L,{})}),Object(v.jsx)(C.a,{exact:!0,path:"/favorites",element:Object(v.jsx)(W,{})})]})]})})})},G=function(){var e=Object(b.c)((function(e){return e.themeReducer.ToggleTheme}));return Object(v.jsx)("div",{className:e,children:Object(v.jsx)(k,{})})};var U=function(){return Object(v.jsx)(G,{})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,181)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))},q=c(44),B=c(82),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ToggleTheme:"light"},t=arguments.length>1?arguments[1]:void 0;return t.type===o?(console.log(t.payload),t.payload?{ToggleTheme:"dark"}:{ToggleTheme:"light"}):e},M=c(18),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return console.log(t.payload),localStorage.setItem("favoriteCities",JSON.stringify([].concat(Object(M.a)(e),[t.payload]))),[].concat(Object(M.a)(e),[t.payload]);case j:return localStorage.clear(),[];default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{LocalizedName:"Tel Aviv",Key:"215854",WeatherText:"Mostly cloudy"},t=arguments.length>1?arguments[1]:void 0;if(t.type===i){console.log(t.payload);var c=t.payload,n=c.LocalizedName,a=c.Key,r=c.WeatherText;return{LocalizedName:n,Key:a,WeatherText:r}}return e},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var c=t.payload.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return c;case l:var n=t.payload.DailyForecasts.map((function(e){return{Temperature:e.Temperature,currentDay:e.Date,Day:e.Day}}));return n;default:return e}},V=Object(q.b)({themeReducer:H,favoriteReducer:P,cityReducer:Y,forecastsReducer:J}),Q=Object(q.d)(V,Object(q.c)(Object(q.a)(B.a)));c(116).config(),r.a.render(Object(v.jsx)(b.a,{store:Q,children:Object(v.jsx)(U,{})}),document.getElementById("root")),_()},25:function(e,t,c){}},[[120,1,2]]]);
//# sourceMappingURL=main.bdb11be4.chunk.js.map